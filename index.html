<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Nerdio + Recast + Intune — Better Together & Click-Through Demo</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = { theme: { extend: {} } };
  </script>
  <script src="https://unpkg.com/lucide@latest"></script>
</head>
<body class="min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950 text-slate-100 antialiased selection:bg-cyan-300/30 selection:text-white">
  <main class="w-full flex items-center justify-center py-8">
    <section class="w-[92vw] max-w-[1280px] bg-slate-900/60 backdrop-blur rounded-2xl shadow-2xl ring-1 ring-slate-800">
      <header class="p-5 pb-3">
        <div class="flex items-start justify-between gap-4 flex-wrap">
          <div class="space-y-1">
            <h1 class="text-xl font-bold tracking-tight">Better Together | Intune at the center, powered by Nerdio + Recast.</h1>
            <p class="text-slate-400 text-sm">Right-sized desktops and patched apps delivered in one governed motion.</p>
          </div>
          <nav role="tablist" aria-label="Pages" class="flex items-center gap-2">
            <button id="tab-better" role="tab" aria-controls="panel-better" aria-selected="true" class="inline-flex items-center gap-2 rounded-xl px-3.5 py-2 font-semibold tracking-wide text-white bg-slate-800/80 ring-1 ring-slate-700 hover:bg-slate-800 focus:outline-none focus-visible:ring-2 focus-visible:ring-emerald-400">
              <i data-lucide="sparkles" class="w-4 h-4"></i><span>Better Together</span>
            </button>
            <button id="tab-demo" role="tab" aria-controls="panel-demo" aria-selected="false" class="inline-flex items-center gap-2 rounded-xl px-3.5 py-2 font-semibold tracking-wide text-white bg-slate-800/50 ring-1 ring-slate-700 hover:bg-slate-800 focus:outline-none focus-visible:ring-2 focus-visible:ring-emerald-400">
              <i data-lucide="play-circle" class="w-4 h-4"></i><span>Demo</span>
            </button>
          </nav>
        </div>
      </header>

      <!-- Better Together (default) -->
      <div id="panel-better" role="tabpanel" aria-labelledby="tab-better" class="block">
        <div class="p-6 pt-3 space-y-6">
          <div class="space-y-1">
            <h2 class="text-2xl font-extrabold tracking-tight">Better Together | Nerdio + Recast</h2>
            <p class="text-slate-300 text-base">“One Intune-governed workspace. Desktops right-sized. Apps delivered and patched. Day one.”</p>
          </div>

          <!-- Sub-nav like the reference layout -->
          <nav id="bt-subnav" class="flex flex-wrap items-center gap-2" role="tablist" aria-label="Better Together sections">
            <button id="sub-current" role="tab" aria-controls="bt-current" aria-selected="true" class="inline-flex items-center gap-2 rounded-full px-3 py-1.5 text-sm font-semibold bg-yellow-500/20 text-yellow-200 ring-1 ring-yellow-400/50 hover:bg-yellow-500/25">
              <i data-lucide="circle" class="w-4 h-4"></i><span>Current State</span>
            </button>
            <button id="sub-approach" role="tab" aria-controls="bt-approach" aria-selected="false" class="inline-flex items-center gap-2 rounded-full px-3 py-1.5 text-sm font-semibold bg-slate-800/70 text-slate-200 ring-1 ring-slate-700 hover:bg-slate-800">
              <i data-lucide="route" class="w-4 h-4"></i><span>Approach (Nerdio+Recast)</span>
            </button>
            <button id="sub-outcomes" role="tab" aria-controls="bt-outcomes" aria-selected="false" class="inline-flex items-center gap-2 rounded-full px-3 py-1.5 text-sm font-semibold bg-slate-800/70 text-slate-200 ring-1 ring-slate-700 hover:bg-slate-800">
              <i data-lucide="trophy" class="w-4 h-4"></i><span>ROI &amp; Outcomes</span>
            </button>
          </nav>

          <!-- Partner badges -->
          <div class="flex flex-wrap items-center gap-2 text-[13px]">
            <span class="inline-flex items-center gap-1 rounded-full px-2 py-1 bg-blue-900/50 ring-1 ring-blue-700"><i data-lucide="shield" class="w-3.5 h-3.5 text-blue-300"></i>Intune — Control Plane</span>
            <span class="inline-flex items-center gap-1 rounded-full px-2 py-1 bg-emerald-900/40 ring-1 ring-emerald-600"><i data-lucide="monitor" class="w-3.5 h-3.5 text-emerald-300"></i>Nerdio — Desktop Automation</span>
            <span class="inline-flex items-center gap-1 rounded-full px-2 py-1 bg-amber-900/30 ring-1 ring-amber-500"><i data-lucide="package" class="w-3.5 h-3.5 text-amber-300"></i>Recast — Application Management</span>
          </div>

          <!-- CURRENT STATE -->
          <section id="bt-current" role="tabpanel" aria-labelledby="sub-current" class="block space-y-4">
            <!-- Top four pain cards -->
            <div class="grid md:grid-cols-4 gap-3">
              <article class="rounded-2xl bg-slate-900/70 ring-1 ring-slate-800 p-4">
                <div class="flex items-center gap-2 mb-2"><i data-lucide="git-merge" class="w-4 h-4 text-sky-300"></i><h3 class="font-semibold">Fragmented Delivery</h3></div>
                <p class="text-sm text-slate-300">Desktops in one system, apps in another; policy drift grows.</p>
              </article>
              <article class="rounded-2xl bg-slate-900/70 ring-1 ring-slate-800 p-4">
                <div class="flex items-center gap-2 mb-2"><i data-lucide="box" class="w-4 h-4 text-amber-300"></i><h3 class="font-semibold">Packaging Backlog</h3></div>
                <p class="text-sm text-slate-300">Teams burn 5–10 hrs per app repeating work; migrations stall.</p>
              </article>
              <article class="rounded-2xl bg-slate-900/70 ring-1 ring-slate-800 p-4">
                <div class="flex items-center gap-2 mb-2"><i data-lucide="alert-octagon" class="w-4 h-4 text-rose-300"></i><h3 class="font-semibold">Zero-day Exposure</h3></div>
                <p class="text-sm text-slate-300">Third-party apps + OS unpatched = risk window measured in days.</p>
              </article>
              <article class="rounded-2xl bg-slate-900/70 ring-1 ring-slate-800 p-4">
                <div class="flex items-center gap-2 mb-2"><i data-lucide="gauge" class="w-4 h-4 text-violet-300"></i><h3 class="font-semibold">Azure Overspend</h3></div>
                <p class="text-sm text-slate-300">Idle host pools & static capacity push spend up to 55% higher.</p>
              </article>
            </div>
            <p class="text-[13px] text-slate-400">Too many apps, too many versions — IT can’t keep up. Desktops and apps drift apart; security and cost suffer.</p>

            <!-- Why buckets -->
            <div class="grid md:grid-cols-3 gap-3">
              <section class="rounded-2xl bg-slate-900/70 ring-1 ring-slate-800 p-4">
                <div class="flex items-center gap-2 mb-2"><i data-lucide="help-circle" class="w-4 h-4 text-slate-200"></i><h3 class="font-semibold">Why Change</h3></div>
                <ol class="list-decimal pl-5 space-y-2 text-sm text-slate-300">
                  <li>Apps are the bottleneck — packaging/patching slow projects.</li>
                  <li>Infra sprawl & idle capacity drive Azure overspend.</li>
                  <li>Innovation waits until desktops + apps are governed together.</li>
                </ol>
              </section>
              <section class="rounded-2xl bg-slate-900/70 ring-1 ring-slate-800 p-4">
                <div class="flex items-center gap-2 mb-2"><i data-lucide="timer" class="w-4 h-4 text-sky-300"></i><h3 class="font-semibold">Why Now</h3></div>
                <ol class="list-decimal pl-5 space-y-2 text-sm text-slate-300">
                  <li>Faster release cycles demand automation over manual work.</li>
                  <li>Zero-day & compliance pressure make patch deadlines non-negotiable.</li>
                  <li>Do more with less — automation is the lever left.</li>
                </ol>
              </section>
              <section class="rounded-2xl bg-slate-900/70 ring-1 ring-slate-800 p-4">
                <div class="flex items-center gap-2 mb-2"><i data-lucide="layers" class="w-4 h-4 text-indigo-300"></i><h3 class="font-semibold">Why Better Together</h3></div>
                <ol class="list-decimal pl-5 space-y-2 text-sm text-slate-300">
                  <li>Complete the workspace — infra + apps in one Intune-governed flow.</li>
                  <li>Measurable impact — autoscale savings + packaging time avoided.</li>
                  <li>Migrate without disruption — &gt;95% patch targets, consistent access.</li>
                </ol>
              </section>
            </div>
          </section>

          <!-- APPROACH -->
          <section id="bt-approach" role="tabpanel" aria-labelledby="sub-approach" class="hidden space-y-4">
            <p class="text-sm text-slate-300">Intune is the control plane. Nerdio orchestrates Cloud PCs/AVD and rightsizes capacity. Recast delivers and patches applications with rings and policy — all in one governed motion.</p>
            <div class="grid md:grid-cols-2 gap-4">
              <article class="rounded-2xl bg-emerald-950/30 ring-1 ring-emerald-600/50 p-4">
                <header class="flex items-center justify-between">
                  <div class="flex items-center gap-2">
                    <i data-lucide="monitor" class="w-5 h-5 text-emerald-300"></i>
                    <h3 class="font-bold text-emerald-100">Nerdio — Desktop Orchestration</h3>
                  </div>
                  <span class="text-xs text-emerald-200/90 ring-1 ring-emerald-600 rounded-full px-2 py-0.5">Right-sized Desktops</span>
                </header>
                <div class="mt-4 grid gap-3">
                  <div class="rounded-xl bg-slate-900/60 ring-1 ring-slate-800 p-3">
                    <div class="flex items-center justify-between text-xs text-slate-300 mb-2"><span>Cloud PC Pools</span><span>Windows 365</span></div>
                    <div class="grid grid-cols-8 gap-1.5">
                      <div class="h-5 rounded-md bg-gradient-to-r from-indigo-400/60 to-emerald-400/60 col-span-5"></div>
                      <div class="h-5 rounded-md bg-slate-800 col-span-3"></div>
                    </div>
                  </div>
                  <div class="rounded-xl bg-slate-900/60 ring-1 ring-slate-800 p-3">
                    <div class="flex items-center justify-between text-xs text-slate-300 mb-2"><span>AVD Host Pools</span><span>Autoscale</span></div>
                    <div class="grid grid-cols-8 gap-1.5">
                      <div class="h-5 rounded-md bg-gradient-to-r from-indigo-400/60 to-emerald-400/60 col-span-6"></div>
                      <div class="h-5 rounded-md bg-slate-800 col-span-2"></div>
                    </div>
                  </div>
                  <div class="rounded-xl bg-slate-900/60 ring-1 ring-slate-800 p-3">
                    <div class="flex items-center justify-between text-xs text-slate-300 mb-2"><span>Policy via Intune</span><span class="flex items-center gap-1"><i data-lucide="shield" class="w-3.5 h-3.5"></i>Identity-driven</span></div>
                    <div class="flex flex-wrap gap-1.5">
                      <span class="w-2 h-2 rounded-full bg-emerald-300"></span><span class="w-2 h-2 rounded-full bg-emerald-300"></span><span class="w-2 h-2 rounded-full bg-emerald-300"></span><span class="w-2 h-2 rounded-full bg-emerald-300"></span><span class="w-2 h-2 rounded-full bg-emerald-300"></span><span class="w-2 h-2 rounded-full bg-emerald-300"></span>
                    </div>
                  </div>
                  <div class="flex items-center justify-between">
                    <span class="text-xs text-emerald-200/90">Benefit</span>
                    <span class="text-xs font-semibold rounded-full bg-emerald-900/40 ring-1 ring-emerald-600 px-2 py-0.5 opacity-90">Up to 55% Azure savings</span>
                  </div>
                </div>
              </article>

              <article class="rounded-2xl bg-amber-950/20 ring-1 ring-amber-600/50 p-4">
                <header class="flex items-center justify-between">
                  <div class="flex items-center gap-2">
                    <i data-lucide="package" class="w-5 h-5 text-amber-300"></i>
                    <h3 class="font-bold text-amber-100">Recast — Application Management</h3>
                  </div>
                  <span class="text-xs text-amber-200/90 ring-1 ring-amber-500 rounded-full px-2 py-0.5">Apps Delivered &amp; Patched</span>
                </header>
                <div class="mt-4 grid gap-3">
                  <div class="rounded-xl bg-slate-900/60 ring-1 ring-slate-800 p-3">
                    <div class="text-xs text-slate-300 mb-2">Curated Catalog</div>
                    <div class="flex flex-wrap gap-1.5">
                      <span class="text-[10px] md:text-xs rounded-md px-2 py-1 ring-1 ring-amber-400/60 bg-amber-900/30">M365</span>
                      <span class="text-[10px] md:text-xs rounded-md px-2 py-1 ring-1 ring-amber-400/60 bg-amber-900/30">Edge</span>
                      <span class="text-[10px] md:text-xs rounded-md px-2 py-1 ring-1 ring-amber-400/60 bg-amber-900/30">Chrome</span>
                      <span class="text-[10px] md:text-xs rounded-md px-2 py-1 ring-1 ring-amber-400/60 bg-amber-900/30">Zoom</span>
                      <span class="text-[10px] md:text-xs rounded-md px-2 py-1 ring-1 ring-amber-400/60 bg-amber-900/30">Slack</span>
                      <span class="text-[10px] md:text-xs rounded-md px-2 py-1 ring-1 ring-amber-400/60 bg-amber-900/30">SAP</span>
                      <span class="text-[10px] md:text-xs rounded-md px-2 py-1 ring-1 ring-amber-400/60 bg-amber-900/30">Adobe</span>
                    </div>
                  </div>
                  <div class="rounded-xl bg-slate-900/60 ring-1 ring-slate-800 p-3">
                    <div class="text-xs text-slate-300 mb-2">Rings &amp; Access via Intune</div>
                    <div class="grid grid-cols-3 gap-2">
                      <div class="rounded-lg ring-1 ring-slate-700 p-3 bg-slate-950/50"><div class="text-[11px] text-slate-300 mb-2">Business Unit</div><div class="h-2 rounded bg-gradient-to-r from-amber-300 via-emerald-300 to-sky-300 w-[70%]"></div></div>
                      <div class="rounded-lg ring-1 ring-slate-700 p-3 bg-slate-950/50"><div class="text-[11px] text-slate-300 mb-2">Subsidiary</div><div class="h-2 rounded bg-gradient-to-r from-amber-300 via-emerald-300 to-sky-300 w-[85%]"></div></div>
                      <div class="rounded-lg ring-1 ring-slate-700 p-3 bg-slate-950/50"><div class="text-[11px] text-slate-300 mb-2">Region</div><div class="h-2 rounded bg-gradient-to-r from-amber-300 via-emerald-300 to-sky-300 w-[95%]"></div></div>
                    </div>
                  </div>
                  <div class="flex items-center justify-between">
                    <span class="text-xs text-amber-200/90">Benefit</span>
                    <span class="text-xs font-semibold rounded-full bg-amber-900/40 ring-1 ring-amber-500 px-2 py-0.5 opacity-90">&gt;95% compliance</span>
                  </div>
                </div>
              </article>
            </div>
          </section>

          <!-- OUTCOMES -->
          <section id="bt-outcomes" role="tabpanel" aria-labelledby="sub-outcomes" class="hidden space-y-4">
            <div class="grid md:grid-cols-4 gap-3">
              <article class="rounded-2xl bg-slate-900/70 ring-1 ring-slate-800 p-4">
                <div class="flex items-center gap-2 mb-2"><i data-lucide="percent" class="w-4 h-4 text-emerald-300"></i><h3 class="font-semibold">Azure Savings</h3></div>
                <p class="text-sm text-slate-300">Up to <strong>55%</strong> reduction with autoscale + right-sizing.</p>
              </article>
              <article class="rounded-2xl bg-slate-900/70 ring-1 ring-slate-800 p-4">
                <div class="flex items-center gap-2 mb-2"><i data-lucide="check-circle" class="w-4 h-4 text-amber-300"></i><h3 class="font-semibold">Patch Compliance</h3></div>
                <p class="text-sm text-slate-300">&gt;<strong>95%</strong> third-party + OS patch targets with rings.</p>
              </article>
              <article class="rounded-2xl bg-slate-900/70 ring-1 ring-slate-800 p-4">
                <div class="flex items-center gap-2 mb-2"><i data-lucide="timer" class="w-4 h-4 text-sky-300"></i><h3 class="font-semibold">Time to Value</h3></div>
                <p class="text-sm text-slate-300">&lt;<strong>1 hr</strong> to live desktops + apps for common scenarios.</p>
              </article>
              <article class="rounded-2xl bg-slate-900/70 ring-1 ring-slate-800 p-4">
                <div class="flex items-center gap-2 mb-2"><i data-lucide="store" class="w-4 h-4 text-indigo-300"></i><h3 class="font-semibold">Microsoft Aligned</h3></div>
                <p class="text-sm text-slate-300">Azure-native, Intune-driven, Marketplace/MACC eligible.</p>
              </article>
            </div>
            <div class="rounded-2xl bg-emerald-950/20 ring-1 ring-emerald-600/40 p-4 flex items-center justify-between flex-wrap gap-3">
              <div class="flex items-center gap-2">
                <i data-lucide="shield-check" class="w-5 h-5 text-emerald-300"></i>
                <p class="text-sm text-emerald-100">One governed motion — desktops and apps provisioned, patched, and compliant on day one.</p>
              </div>
              <div class="flex items-center gap-2">
                <span class="text-xs rounded-full px-2 py-1 bg-emerald-900/40 ring-1 ring-emerald-600">Migration-safe</span>
                <span class="text-xs rounded-full px-2 py-1 bg-emerald-900/40 ring-1 ring-emerald-600">MSP-ready</span>
                <span class="text-xs rounded-full px-2 py-1 bg-emerald-900/40 ring-1 ring-emerald-600">Repeatable</span>
              </div>
            </div>
          </section>
        </div>
      </div>

      <!-- Demo (UNCHANGED) -->
      <div id="panel-demo" role="tabpanel" aria-labelledby="tab-demo" class="hidden">
        <div class="flex flex-col gap-4 p-5 pt-2">
          <div class="flex flex-col gap-3 md:flex-row md:items-center md:justify-between">
            <div class="space-y-0.5">
              <h2 class="text-lg font-bold tracking-tight">Demo — Intune-governed delivery across desktops (Nerdio) and apps (Recast)</h2>
              <p class="text-slate-400 text-sm">Click <strong>Start</strong> to highlight each role and outcome.</p>
            </div>
            <nav aria-label="Demo controls" class="flex items-center gap-2">
              <button id="btn-start" class="inline-flex items-center gap-2 rounded-xl px-3.5 py-2 font-semibold tracking-wide text-white bg-gradient-to-r from-indigo-500 to-emerald-400 shadow ring-1 ring-white/10 hover:brightness-110 active:translate-y-px focus:outline-none focus-visible:ring-2 focus-visible:ring-emerald-400">
                <i data-lucide="play" class="w-4 h-4"></i><span>Start</span>
              </button>
              <button id="btn-reset" class="inline-flex items-center gap-2 rounded-xl px-3.5 py-2 font-semibold tracking-wide text-slate-100 bg-slate-800/70 hover:bg-slate-800 active:translate-y-px ring-1 ring-slate-700 focus:outline-none focus-visible:ring-2 focus-visible:ring-rose-400">
                <i data-lucide="rotate-ccw" class="w-4 h-4"></i><span>Reset</span>
              </button>
            </nav>
          </div>

          <div id="stage" class="relative overflow-hidden rounded-2xl p-4 md:p-6 min-h-[620px] bg-gradient-to-b from-slate-900 to-slate-950 ring-1 ring-slate-800" aria-live="polite">
            <div id="intune-bar" class="mx-auto max-w-xl rounded-xl bg-blue-950/60 ring-2 ring-blue-600 shadow-xl px-4 py-3 text-center">
              <div class="inline-flex items-center gap-2">
                <i data-lucide="shield-check" class="w-4 h-4 text-blue-300"></i>
                <span class="text-xs font-black tracking-wide px-2.5 py-1 rounded-full text-blue-950 bg-blue-300">INTUNE — Control Plane</span>
              </div>
              <div class="text-sm font-semibold mt-1">One workspace, governed by Intune.</div>
            </div>

            <div class="grid md:grid-cols-2 gap-6 mt-6">
              <section id="col-nerdio" class="rounded-2xl ring-1 ring-emerald-600/40 bg-emerald-950/30 p-4">
                <header class="flex items-center justify-between">
                  <div class="flex items-center gap-2">
                    <i data-lucide="monitor" class="w-5 h-5 text-emerald-300"></i>
                    <h3 class="font-bold text-emerald-200">Nerdio — Desktop Orchestration</h3>
                  </div>
                  <span class="text-xs text-emerald-200/90 ring-1 ring-emerald-600 rounded-full px-2 py-0.5">Right-sized Desktops</span>
                </header>
                <div class="mt-4 grid gap-3">
                  <div class="rounded-xl bg-slate-900/60 ring-1 ring-slate-800 p-3">
                    <div class="flex items-center justify-between text-xs text-slate-300 mb-2"><span>Cloud PC Pools</span><span>Windows 365</span></div>
                    <div id="nerdio-cloudpc" class="grid grid-cols-8 gap-1.5"></div>
                  </div>
                  <div class="rounded-xl bg-slate-900/60 ring-1 ring-slate-800 p-3">
                    <div class="flex items-center justify-between text-xs text-slate-300 mb-2"><span>AVD Host Pools</span><span>Autoscale</span></div>
                    <div id="nerdio-avd" class="grid grid-cols-8 gap-1.5"></div>
                  </div>
                  <div class="rounded-xl bg-slate-900/60 ring-1 ring-slate-800 p-3">
                    <div class="flex items-center justify-between text-xs text-slate-300 mb-2"><span>Policy via Intune</span><span class="flex items-center gap-1"><i data-lucide="shield" class="w-3.5 h-3.5"></i>Identity-driven</span></div>
                    <div id="nerdio-policy" class="flex flex-wrap gap-1.5"></div>
                  </div>
                  <div class="flex items-center justify-between">
                    <span class="text-xs text-emerald-200/90">Benefit</span>
                    <span id="metric-savings" class="text-xs font-semibold rounded-full bg-emerald-900/40 ring-1 ring-emerald-600 px-2 py-0.5 opacity-80">Up to 55% Azure savings</span>
                  </div>
                </div>
              </section>

              <section id="col-recast" class="rounded-2xl ring-1 ring-amber-600/40 bg-amber-950/20 p-4">
                <header class="flex items-center justify-between">
                  <div class="flex items-center gap-2">
                    <i data-lucide="package" class="w-5 h-5 text-amber-300"></i>
                    <h3 class="font-bold text-amber-100">Recast — Application Workspace</h3>
                  </div>
                  <span class="text-xs text-amber-200/90 ring-1 ring-amber-500 rounded-full px-2 py-0.5">Apps Delivered &amp; Patched</span>
                </header>
                <div class="mt-4 grid gap-3">
                  <div class="rounded-xl bg-slate-900/60 ring-1 ring-slate-800 p-3">
                    <div class="text-xs text-slate-300 mb-2">Curated Catalog + Status</div>
                    <div id="app-icons" class="flex flex-wrap gap-1.5"></div>
                  </div>
                  <div class="rounded-xl bg-slate-900/60 ring-1 ring-slate-800 p-3">
                    <div class="text-xs text-slate-300 mb-2">Rings &amp; Policy via Intune</div>
                    <div id="recast-rings" class="grid grid-cols-3 gap-2"></div>
                  </div>
                  <div class="flex items-center justify-between">
                    <span class="text-xs text-amber-200/90">Benefit</span>
                    <span id="metric-compliance" class="text-xs font-semibold rounded-full bg-amber-900/40 ring-1 ring-amber-500 px-2 py-0.5 opacity-80">&gt;95% compliance</span>
                  </div>
                </div>
              </section>
            </div>

            <div id="outcome" class="mt-6 mx-auto max-w-3xl rounded-2xl border border-emerald-300/40 bg-emerald-900/20 px-6 py-4 flex items-center justify-center gap-3 text-center">
              <span class="w-3 h-3 rounded-full bg-emerald-300 shadow-[0_0_14px_3px] shadow-emerald-300/60"></span>
              <strong class="text-xl md:text-3xl font-extrabold text-emerald-100">Day One Workspace</strong>
            </div>
            <p id="step-caption" class="mt-3 text-center text-sm text-slate-300">Ready to start</p>

            <svg class="pointer-events-none absolute inset-0" viewBox="0 0 1280 700" aria-hidden="true">
              <defs>
                <marker id="arrowBlue" markerWidth="10" markerHeight="10" refX="8" refY="5" orient="auto"><path d="M0,0 L10,5 L0,10 z" fill="#93c5fd"></path></marker>
                <marker id="arrowGreen" markerWidth="10" markerHeight="10" refX="8" refY="5" orient="auto"><path d="M0,0 L10,5 L0,10 z" fill="#6ee7b7"></path></marker>
                <marker id="arrowYellow" markerWidth="10" markerHeight="10" refX="8" refY="5" orient="auto"><path d="M0,0 L10,5 L0,10 z" fill="#fde68a"></path></marker>
              </defs>
              <path id="beam-intune" d="M640,130 L640,310" fill="none" stroke="#93c5fd" stroke-width="10" stroke-linecap="round" opacity="0"></path>
              <path id="path-n2w" d="M260,390 C 460,430 560,430 640,400" fill="none" stroke="#34d399" stroke-width="3" marker-end="url(#arrowGreen)" opacity="0.25"></path>
              <circle id="energy-n" r="5" fill="#6ee7b7" opacity="0"></circle>
              <path id="path-r2w" d="M1020,390 C 820,430 720,430 640,400" fill="none" stroke="#fbbf24" stroke-width="3" marker-end="url(#arrowYellow)" opacity="0.25"></path>
              <circle id="energy-r" r="5" fill="#fde68a" opacity="0"></circle>
              <path id="path-i2w" d="M640,160 C 640,220 640,260 640,300" fill="none" stroke="#93c5fd" stroke-width="3" marker-end="url(#arrowBlue)" opacity="0.25"></path>
              <circle id="energy-i" r="5" fill="#93c5fd" opacity="0"></circle>
            </svg>
          </div>
        </div>
      </div>
    </section>
  </main>

  <script>
    // ---------- STATE ----------
    const STATE = {
      tab: 'better', // Better Together opens first
      reduced: window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches,
      playing: false, step: 0, timers: [], raf: null
    };

    // ---------- ELEMENTS ----------
    const tabs = { better: document.getElementById('tab-better'), demo: document.getElementById('tab-demo') };
    const panels = { better: document.getElementById('panel-better'), demo: document.getElementById('panel-demo') };

    // Better Together subnav
    const sub = {
      current: document.getElementById('sub-current'),
      approach: document.getElementById('sub-approach'),
      outcomes: document.getElementById('sub-outcomes')
    };
    const btPanels = {
      current: document.getElementById('bt-current'),
      approach: document.getElementById('bt-approach'),
      outcomes: document.getElementById('bt-outcomes')
    };

    // Demo refs (unchanged)
    const btnStart = document.getElementById('btn-start');
    const btnReset = document.getElementById('btn-reset');
    const caption = document.getElementById('step-caption');
    const intuneBar = document.getElementById('intune-bar');
    const colN = document.getElementById('col-nerdio');
    const colR = document.getElementById('col-recast');
    const outcome = document.getElementById('outcome');
    const neridioCloud = document.getElementById('nerdio-cloudpc');
    const neridioAvd = document.getElementById('nerdio-avd');
    const neridioPolicy = document.getElementById('nerdio-policy');
    const recastRings = document.getElementById('recast-rings');
    const appIcons = document.getElementById('app-icons');
    const paths = {
      beam: document.getElementById('beam-intune'),
      i2w: document.getElementById('path-i2w'),
      n2w: document.getElementById('path-n2w'),
      r2w: document.getElementById('path-r2w')
    };
    const energy = {
      i: document.getElementById('energy-i'),
      n: document.getElementById('energy-n'),
      r: document.getElementById('energy-r')
    };

    // ---------- HELPERS ----------
    function switchTab(to) {
      STATE.tab = to;
      Object.keys(tabs).forEach(k => {
        const sel = (k === to);
        tabs[k].setAttribute('aria-selected', String(sel));
        tabs[k].classList.toggle('bg-slate-800/80', sel);
        tabs[k].classList.toggle('bg-slate-800/50', !sel);
        panels[k].classList.toggle('hidden', !sel);
        panels[k].classList.toggle('block', sel);
      });
      try { window.lucide && window.lucide.createIcons && window.lucide.createIcons(); } catch(_) {}
    }
    function switchBT(to){
      Object.keys(sub).forEach(k=>{
        const sel = (k===to);
        sub[k].setAttribute('aria-selected', String(sel));
        sub[k].classList.toggle('bg-yellow-500/20', k==='current' && sel);
        sub[k].classList.toggle('text-yellow-200', k==='current' && sel);
        sub[k].classList.toggle('ring-yellow-400/50', k==='current' && sel);
        sub[k].classList.toggle('bg-slate-800/70', !(k==='current' && sel));
        btPanels[k].classList.toggle('hidden', !sel);
        btPanels[k].classList.toggle('block', sel);
      });
    }

    function clearTimers(){ while(STATE.timers.length) clearTimeout(STATE.timers.pop()); }
    function stopRAF(){ if(STATE.raf) cancelAnimationFrame(STATE.raf); STATE.raf=null; }
    function setOpacity(el, v){ if(el) el.setAttribute('opacity', String(v)); }
    function moveAlongPath(circle, path, progress){ const len=path.getTotalLength(); const pt=path.getPointAtLength(progress*len); circle.setAttribute('cx', pt.x); circle.setAttribute('cy', pt.y); }
    function dot(active=false){ const d=document.createElement('span'); d.className='w-2 h-2 rounded-full ' + (active?'bg-emerald-300':'bg-slate-700'); return d; }

    // Build Demo cells
    for (let i=0;i<16;i++){ const c=document.createElement('div'); c.className='h-5 rounded-md bg-slate-800'; neridioCloud.appendChild(c); }
    for (let i=0;i<16;i++){ const c=document.createElement('div'); c.className='h-5 rounded-md bg-slate-800'; neridioAvd.appendChild(c); }
    for (let i=0;i<24;i++) neridioPolicy.appendChild(dot(false));
    const recastCardsInit=()=>{ while(recastRings.firstChild) recastRings.removeChild(recastRings.firstChild);
      for (let c=0;c<3;c++){ const card=document.createElement('div'); card.className='rounded-lg ring-1 ring-slate-700 p-3 bg-slate-950/50'; const t=document.createElement('div'); t.className='text-[11px] text-slate-300 mb-2'; t.textContent=['Business Unit','Subsidiary','Region'][c]; card.appendChild(t); const wrap=document.createElement('div'); wrap.className='h-2 rounded bg-slate-800 overflow-hidden'; const bar=document.createElement('div'); bar.className='h-full bg-gradient-to-r from-amber-300 via-emerald-300 to-sky-300 w-0'; wrap.appendChild(bar); card.appendChild(wrap); recastRings.appendChild(card); }
    };
    recastCardsInit();

    function resetVisual(){
      caption.textContent='Ready to start';
      intuneBar.classList.remove('ring-4','ring-offset-2','ring-offset-slate-900','animate-pulse');
      colN.classList.remove('ring-2','ring-emerald-400','shadow-emerald-500/20');
      colR.classList.remove('ring-2','ring-amber-400','shadow-amber-500/20');
      outcome.style.boxShadow=''; outcome.style.transform='scale(1)';
      setOpacity(paths.beam,0); setOpacity(energy.i,0); setOpacity(energy.n,0); setOpacity(energy.r,0);
      Array.from(neridioCloud.children).forEach(c=> c.style.background='rgb(30 41 59)');
      Array.from(neridioAvd.children).forEach(c=> c.style.background='rgb(30 41 59)');
      Array.from(neridioPolicy.children).forEach(d=> d.className='w-2 h-2 rounded-full bg-slate-700');
      recastCardsInit();
      while(appIcons.firstChild) appIcons.removeChild(appIcons.firstChild);
      ['M365','Teams','Edge','Chrome','Zoom','Slack','SAP','Adobe','Box','Okta'].forEach(n=>{
        const pill=document.createElement('span'); pill.className='flex items-center gap-1 text-[10px] md:text-xs rounded-md px-2 py-1 ring-1 ring-slate-700 bg-slate-950/60'; pill.textContent=n; appIcons.appendChild(pill);
      });
    }

    // Demo steps (as previously delivered)
    function step1(){
      caption.textContent='Step 1 — Intune Foundation: governance “brain” is active.';
      intuneBar.classList.add('animate-pulse','ring-4','ring-offset-2','ring-offset-slate-900'); setOpacity(paths.beam,0.85);
      if(STATE.reduced) return; const start=performance.now(), dur=900; const tick=(t)=>{ const p=Math.min(1,(t-start)/dur); setOpacity(energy.i,1); moveAlongPath(energy.i,paths.i2w,p); if(p<1) STATE.raf=requestAnimationFrame(tick); }; STATE.raf=requestAnimationFrame(tick);
    }
    function step2(){
      caption.textContent='Step 2 — Nerdio right-sizes desktops; Azure cost reduced up to 55%.';
      colN.classList.add('ring-2','ring-emerald-400','shadow-emerald-500/20');
      Array.from(neridioCloud.children).forEach((c,i)=> setTimeout(()=> c.style.background='linear-gradient(90deg, rgba(129,140,248,0.8), rgba(16,185,129,0.8))', i*40));
      Array.from(neridioAvd.children).forEach((c,i)=> setTimeout(()=> c.style.background='linear-gradient(90deg, rgba(129,140,248,0.8), rgba(16,185,129,0.8))', i*40));
      Array.from(neridioPolicy.children).forEach((d,i)=> setTimeout(()=> d.className='w-2 h-2 rounded-full bg-emerald-300', i*30));
      if(STATE.reduced) return; const start=performance.now(), dur=900; const tick=(t)=>{ const p=Math.min(1,(t-start)/dur); setOpacity(energy.n,1); moveAlongPath(energy.n,paths.n2w,p); if(p<1) STATE.raf=requestAnimationFrame(tick); }; STATE.raf=requestAnimationFrame(tick);
    }
    function step3(){
      caption.textContent='Step 3 — Recast provisions apps, applies patches, and updates; compliance >95%.';
      colR.classList.add('ring-2','ring-amber-400','shadow-amber-500/20');
      // Bars fill
      Array.from(recastRings.children).forEach((card,i)=>{ const bar=card.querySelector('div > div'); setTimeout(()=> bar.style.width=['70%','85%','95%'][i], i*150); });
      if(STATE.reduced) return; const start=performance.now(), dur=900; const tick=(t)=>{ const p=Math.min(1,(t-start)/dur); setOpacity(energy.r,1); moveAlongPath(energy.r,paths.r2w,p); if(p<1) STATE.raf=requestAnimationFrame(tick); }; STATE.raf=requestAnimationFrame(tick);
    }
    function step4(){ caption.textContent='Step 4 — Convergence: desktops + apps provisioned, patched, and governed in one motion.'; outcome.style.boxShadow='0 0 0 4px rgba(52,211,153,.45), 0 0 52px rgba(52,211,153,.35)'; outcome.style.transform='scale(1.04)'; }
    function step5(){ caption.textContent='Step 5 — Migration-safe • MSP-ready • Intune-driven. Loop or Reset to replay.'; }

    function startDemo(){
      if(STATE.playing) return;
      STATE.playing=true; btnStart.querySelector('span').textContent='Playing…'; btnStart.setAttribute('aria-pressed','true');
      clearTimers(); stopRAF(); resetVisual();
      const t1=0,t2=1200,t3=2400,t4=3800,t5=5200,stopAt=7200;
      STATE.timers.push(setTimeout(step1,t1)); STATE.timers.push(setTimeout(step2,t2)); STATE.timers.push(setTimeout(step3,t3)); STATE.timers.push(setTimeout(step4,t4)); STATE.timers.push(setTimeout(step5,t5));
      STATE.timers.push(setTimeout(()=>{ STATE.playing=false; btnStart.querySelector('span').textContent='Start'; btnStart.setAttribute('aria-pressed','false'); }, stopAt));
    }
    function resetDemo(){ STATE.playing=false; btnStart.querySelector('span').textContent='Start'; btnStart.setAttribute('aria-pressed','false'); clearTimers(); stopRAF(); resetVisual(); }

    // Events
    tabs.better.addEventListener('click', ()=> switchTab('better'));
    tabs.demo.addEventListener('click', ()=> switchTab('demo'));
    sub.current.addEventListener('click', ()=> switchBT('current'));
    sub.approach.addEventListener('click', ()=> switchBT('approach'));
    sub.outcomes.addEventListener('click', ()=> switchBT('outcomes'));
    btnStart.addEventListener('click', startDemo);
    btnReset.addEventListener('click', resetDemo);
    document.addEventListener('keydown', (e)=> {
      const k=e.key.toLowerCase();
      if (k==='b') switchTab('better');
      if (k==='d') switchTab('demo');
      if (k==='1') switchBT('current');
      if (k==='2') switchBT('approach');
      if (k==='3') switchBT('outcomes');
      if (k==='s') startDemo();
      if (k==='r') resetDemo();
    });

    // Init icons & default views
    try { if (window.lucide && typeof window.lucide.createIcons === 'function') window.lucide.createIcons(); else setTimeout(()=> window.lucide && window.lucide.createIcons && window.lucide.createIcons(), 60); } catch(_) {}
    switchTab('better'); switchBT('current'); resetDemo();
  </script>
</body>
</html>
